<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SkylPWorld ‚Äì Knowledge Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Google Sign-In -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  
  <!-- OneSignal Push Notifications -->
  <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
  <script>
    window.OneSignalDeferred = window.OneSignalDeferred || [];
    OneSignalDeferred.push(async function(OneSignal) {
      await OneSignal.init({
        appId: "ccfe118f-f2e6-4c21-815d-83ebdf7b46d0",
      });
    });
  </script>
  
  <!-- SEO / Social -->
  <meta name="description" content="SkylPWorld is your online knowledge hub! Explore world news, articles, dictionaries, encyclopaedia entries, and more. Learn and grow your knowledge daily.">
  <meta property="og:title" content="SkylPWorld ‚Äì Knowledge Hub">
  <meta property="og:description" content="Explore news, articles, dictionaries, and encyclopaedia content at SkylPWorld. Stay informed and expand your knowledge.">
  <meta property="og:image" content="Picture/skylpworld256x256.png">
  <meta property="og:url" content="https://skyl.name.ng/">
  <meta property="og:type" content="website">

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="512x512" href="Picture/skylpworld256x256.png">
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3XR1R2P73Y"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-3XR1R2P73Y');
  </script>

  <!-- Yandex Maps -->
  <script src="https://api-maps.yandex.com/2.1/?lang=en_US&apikey=128d9a3e-ecd0-4651-8008-069f089206f4" type="text/javascript"></script>
  
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f5f5f5; color:#000; text-align:center; }
    nav { background:#1f1f2e; text-align:center; padding:12px; }
    nav a { color:#fff; text-decoration:none; margin:0 15px; font-weight:600; }
    nav a:hover { color:#ffcc00; }

    .main-container { max-width:900px; margin:20px auto; padding:20px; }
    .auth-card { background:#fff; padding:30px; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.1); margin-bottom: 20px; }

    #user-content { display: none; }

    .content-card { 
      background: #fff; border-radius: 15px; padding: 20px; margin-bottom: 25px; 
      border: 1px solid #ddd; box-shadow: 0 4px 10px rgba(0,0,0,0.05); text-align: left; 
      max-width: 800px; margin-left:auto; margin-right:auto;
    }

    .content-card h4 { margin-top:0; color:#333; }
    .content-card p { line-height:1.6; color:#555; }
    .content-card a { text-decoration:none; color:#4b00ff; }

    input[type=text] { padding:10px; width:60%; font-size:16px; }
    button { padding:10px 15px; font-size:16px; margin-left:5px; cursor:pointer; }

    footer { background:#222; color:#fff; padding:20px; margin-top:40px; }
    .logout-link { color: #ff3b3b; cursor: pointer; text-decoration: underline; font-size: 14px; }

    /* Google Search Styling */
    gcse\:search { max-width: 800px; margin: 20px auto; display: block; }

    /* Yandex Map Styling */
    #map { width: 100%; height: 500px; margin: 20px 0; }
  </style>
</head>
<body>

<!-- Navigation -->
<nav>
  <a href="index.html" style="color:#ffcc00;">Home</a>
  <a href="page1.html">Page 1</a>
  <a href="page2.html">Page 2</a>
  <a href="page3.html">Page 3</a>
  <a href="about.html">About</a>
  <a href="support.html">Support</a>
  <a href="privacy.html">Privacy Policy</a>
</nav>

<!-- Google Translate -->
<div id="google_translate_element" style="margin: 10px auto; text-align: center;"></div>
<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
  }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<!-- Main Logo & Header -->
<div class="main-container">
  <img src="Picture/skylpworld256x256.png" alt="Logo" style="width:80px; border-radius:12px;">
  <h5>Your knowledge hub online</h5>
</div>

<!-- Login Section -->
<div id="auth-placeholder" class="auth-card">
  <h3>Members Access</h3>
  <p>Please log in to explore world news, articles, dictionaries, maps, and more.</p>
  <div id="googleButtonDiv" style="display:flex; justify-content:center;"></div>
</div>

<!-- User Content Section -->
<div id="user-content">

  <!-- World News Section -->
  <div id="news-section">
    <h2>üì∞ Latest World News</h2>
    <div id="news-list"></div>
  </div>

  <!-- Dictionary/Thesaurus Section -->
  <div id="dictionary-section" style="margin-top:40px;">
    <h2>üìñ Dictionary / Thesaurus</h2>
    <input type="text" id="wordInput" placeholder="Type a word">
    <button onclick="lookupWord()">Search</button>
    <div id="wordResult" style="margin-top:20px;"></div>
  </div>

  <!-- Google Web Search Section -->
  <div class="main-container" style="margin-top:40px;">
    <h2>üîç Search the Web</h2>
    <div class="gcse-search"></div>
  </div>
  <script async src="https://cse.google.com/cse.js?cx=0367484b4c806434c"></script>

  <!-- Yandex World Map Section -->
  <div id="map"></div>

</div>


<!-- Cookie Consent Banner -->
<div id="cookie-consent" style="
    position: fixed;
    bottom: 0;
    left: 0;
    right:0;
    background: #222;
    color: #fff;
    padding: 15px 20px;
    text-align: center;
    font-size: 14px;
    z-index: 9999;
    display: none;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
">
    This website uses cookies to ensure you get the best experience. 
    <button id="accept-cookies" style="
        margin-left: 15px;
        padding: 6px 12px;
        background: #4b00ff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
    ">Accept</button>
</div>

<script>
  // Check if user has already accepted cookies
  if (!localStorage.getItem("cookiesAccepted")) {
    document.getElementById("cookie-consent").style.display = "block";
  }

  // Accept button
  document.getElementById("accept-cookies").onclick = function() {
    localStorage.setItem("cookiesAccepted", "true");
    document.getElementById("cookie-consent").style.display = "none";
  }
</script>
  
<!-- Footer -->
<footer>
  <p>Address: Near Beulah International School, Kurudu, Abuja, FCT, Nigeria</p>
  <p>¬© 2026 SkylPWorld</p>
</footer>

  
<script>
  const userAgent = navigator.userAgent.toLowerCase();

  // List of common crawlers and ad bots
  const botPatterns = [
    /googlebot/i,        // Google
    /adsbot-google/i,    // AdSense
    /bingbot/i,          // Bing
    /yandexbot/i,        // Yandex
    /baiduspider/i,      // Baidu
    /facebookexternalhit/i, // Facebook
    /twitterbot/i,       // Twitter
    /linkedinbot/i       // LinkedIn
  ];

  const isBot = botPatterns.some(pattern => pattern.test(userAgent));

  if (isBot) {
    // Show content to bots automatically
    document.getElementById("auth-placeholder").style.display = "none";
    document.getElementById("user-content").style.display = "block";

    // Load dynamic content if needed
    if (typeof loadArticles === "function") loadArticles();
    if (typeof loadNews === "function") loadNews();
  }
</script>
  
<script>
  const AUTO_LOGOUT_TIME = 15 * 60 * 1000; // 15 minutes

  // --- Google Login ---
  function handleCredentialResponse(response) {
    localStorage.setItem("userSession", JSON.stringify({ loggedIn: true, loginTime: Date.now() }));
    location.reload();
  }

  function initGoogleLogin() {
    google.accounts.id.initialize({
      client_id: "1009884656935-9ie9actl74rm94s9jp3o63ci10uoaj7j.apps.googleusercontent.com",
      callback: handleCredentialResponse
    });
    google.accounts.id.renderButton(document.getElementById("googleButtonDiv"), { theme: "outline", size: "large" });
  }

  function checkAuth() {
    const session = JSON.parse(localStorage.getItem("userSession"));
    if (session && session.loggedIn && (Date.now() - session.loginTime < AUTO_LOGOUT_TIME)) {
      document.getElementById("auth-placeholder").style.display = "none";
      document.getElementById("user-content").style.display = "block";
      loadNews();
      initMap();
    } else {
      initGoogleLogin();
    }
  }

  function logout() {
    localStorage.removeItem("userSession");
    location.reload();
  }

  // --- Load World News ---
  const NEWS_API_KEY = "90ba2a81414d40b9aeb8854f544532cf";
  async function loadNews() {
    const NEWS_API_URL = `https://newsapi.org/v2/top-headlines?language=en&pageSize=5&apiKey=${NEWS_API_KEY}`;
    const newsList = document.getElementById('news-list');
    newsList.innerHTML = "Loading...";
    try {
      const res = await fetch(NEWS_API_URL);
      const data = await res.json();
      if (!data.articles || data.articles.length === 0) {
        newsList.innerHTML = "<p>No news found.</p>";
        return;
      }
      newsList.innerHTML = data.articles.map(a => `
        <div class="content-card">
          <h4>${a.title}</h4>
          <p>${a.description || ''}</p>
          <a href="${a.url}" target="_blank">Read full article</a>
        </div>
      `).join('');
    } catch(e) {
      console.error(e);
      newsList.innerHTML = "<p>Failed to load news.</p>";
    }
  }

  // --- Dictionary/Thesaurus Lookup ---
  const DICT_API_KEY = "b603a6c7-2d98-4162-befb-33458a20aff5";
  async function lookupWord() {
    const word = document.getElementById('wordInput').value.trim();
    const resultDiv = document.getElementById('wordResult');
    if (!word) { resultDiv.innerHTML = "<p>Please enter a word.</p>"; return; }
    resultDiv.innerHTML = "Loading...";
    try {
      const res = await fetch(`https://www.dictionaryapi.com/api/v3/references/ithesaurus/json/${word}?key=${DICT_API_KEY}`);
      const data = await res.json();
      if (!data || data.length === 0) { resultDiv.innerHTML = "<p>No entries found.</p>"; return; }
      if (typeof data[0] === 'string') { 
        resultDiv.innerHTML = "<p>Word not found. Did you mean: " + data.slice(0,5).join(', ') + "?</p>"; 
        return; 
      }
      const entry = data[0];
      const definition = entry.shortdef ? entry.shortdef.join('; ') : "No definition found.";
      const synonyms = entry.meta.syns ? entry.meta.syns.flat().join(', ') : "No synonyms found.";
      resultDiv.innerHTML = `
        <div class="content-card">
          <h4>${entry.hwi.hw} (${entry.fl})</h4>
          <p><strong>Definition:</strong> ${definition}</p>
          <p><strong>Synonyms:</strong> ${synonyms}</p>
        </div>
      `;
    } catch(err) {
      console.error(err);
      resultDiv.innerHTML = "<p>Error fetching data. Try again later.</p>";
    }
  }

  // --- Yandex Map Initialization ---
  function initMap() {
    ymaps.ready(function() {
      var myMap = new ymaps.Map("map", {
          center: [0, 0],
          zoom: 1,
          controls: ['zoomControl', 'routeButtonControl']
      });

      var myPlacemark = new ymaps.Placemark([9.0, 7.5], {
          balloonContentHeader: 'Connectgold Enterprise',
          balloonContentBody: `
              Software development/web design<br>
              Address: 2 Near Beulah International School, Kurudu, Abuja, FCT, Nigeria<br>
              Phone: +2347061740924<br>
              Website: <a href="https://connectgold.sbs" target="_blank">connectgold.sbs</a><br>
              Mail: <a href="mailto:chykedegreat@gmail.com">chykedegreat@gmail.com</a>
          `
      }, { preset: 'islands#blueDotIcon' });

      myMap.geoObjects.add(myPlacemark);
      myPlacemark.events.add('click', function () { myPlacemark.balloon.open(); });

      ymaps.route([
          [9.0820, 8.6753],
          [40.7128, -74.0060]
      ], { mapStateAutoApply: true }).then(function(route) {
          myMap.geoObjects.add(route);
      });

      var routePoints = [];
      var userRoute;
      myMap.events.add('click', function (e) {
          var coords = e.get('coords');
          routePoints.push(coords);
          if (routePoints.length === 2) {
              ymaps.route(routePoints, { mapStateAutoApply: true }).then(function(route) {
                  if (userRoute) myMap.geoObjects.remove(userRoute);
                  userRoute = route;
                  myMap.geoObjects.add(userRoute);
                  routePoints = [];
              });
          }
      });
    });
  }

  // --- Initialize ---
  window.onload = checkAuth;
</script>
</body>
</html>
