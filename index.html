<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Your Home of Games</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<script src="https://unpkg.com/parse/dist/parse.min.js"></script>

<script type="module">
  // Initialize Parse
  Parse.initialize("jI6Yyy4fA4EwHgkaLn50oUQxSHC7KUQImgxCUB4C", "4clh951SJa1TWPve5zlPwoUQ82Go0BPbMaMxBvwh");
  Parse.serverURL = 'https://parseapi.back4app.com';

  // Auto-redirect if already logged in
  window.onload = () => {
    if (Parse.User.current()) window.location.href = "dashboard.html";
  };

  const loginForm = document.getElementById("login-form");
  loginForm?.addEventListener("submit", async (e) => {
    e.preventDefault();
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();
    if (!username || !password) return alert("Enter username and password");

    try {
      // Try login first
      const user = await Parse.User.logIn(username, password);
      alert("Welcome " + user.get("username"));
      window.location.href = "dashboard.html";
    } catch (error) {
      // If login fails, create new account
      try {
        const newUser = new Parse.User();
        newUser.set("username", username);
        newUser.set("password", password);
        await newUser.signUp();
        alert("Account created! Welcome " + username);
        window.location.href = "dashboard.html";
      } catch (signupError) {
        alert("Error creating account: " + signupError.message);
      }
    }
  });
</script>

<style>
body { font-family: 'Poppins', sans-serif; margin:0; background:#f5f5f5; color:#333; }
nav { background:#1f1f2e; text-align:center; padding:12px; }
nav a { color:#fff; text-decoration:none; margin:0 15px; font-weight:600; }
nav a:hover { color:#ffcc00; }
header { padding:60px 20px; text-align:center; background:linear-gradient(135deg, #4b00ff, #7b2cff); color:#fff; }
header h1 { font-size:2.5rem; margin-bottom:10px; }
header p { font-size:1.1rem; max-width:600px; margin:auto; }
main { max-width:400px; margin:40px auto; padding:20px; text-align:center; background:#fff; border-radius:12px; box-shadow:0 3px 8px rgba(0,0,0,0.1); }
input { padding:10px; margin:10px 0; width:90%; border-radius:8px; border:1px solid #ccc; }
button { padding:12px 22px; border:none; border-radius:10px; background:#4b00ff; color:#fff; cursor:pointer; font-weight:600; margin-top:15px; width:95%; }
button:hover { background:#ffcc00; color:#000; }
footer { margin-top:60px; text-align:center; padding:20px; background:#222; color:#fff; }
footer a:hover { color:#ffcc00; }
footer div { margin-bottom:5px; }
</style>
</head>

<body>
<nav>
  <a href="index.html" class="active">Home</a>
  <a href="games.html">Games</a>
  <a href="dashboard.html">Dashboard</a>
</nav>

<header>
  <h1>Your Home of Games</h1>
  <p>Play, compete, and track your progress in one place.</p>
</header>

<main>
  <form id="login-form">
    <h3>Login or Sign Up</h3>
    <input type="text" id="username" placeholder="Username" required>
    <input type="password" id="password" placeholder="Password" required>
    <button type="submit">Login / Sign Up</button>
  </form>
</main>

<footer>
  <div>
    <a href="privacy.html">Privacy Policy</a>
    <a href="support.html">Support</a>
  </div>
  <p>Address: Near Beulah International School, Kurudu, Abuja, FCT, Nigeria</p>
  <p>Â© 2026 Your Home of Games</p>
</footer>
</body>
</html>
