<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Support</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/parse/dist/parse.min.js"></script>
  <style>
    body { font-family: Arial,sans-serif; padding:20px; }
    textarea { width:100%; height:100px; padding:12px; margin:10px 0; border-radius:8px; border:1px solid #ccc; }
    button { padding:12px 20px; border:none; background:#4b00ff; color:#fff; border-radius:8px; cursor:pointer; font-weight:bold; }
    #msg { margin-top:10px; font-weight:bold; color:green; }
  </style>

  <nav>
  <a href="dashboard.html">Dashboard</a>
  <a href="games.html" class="active">Games</a>
  <a href="support.html">Support</a>
  <a href="index.html" onclick="logout()">Logout</a>
</nav>
  
</head>
<body>

<h1>Support</h1>

<textarea id="issue" placeholder="Describe your issue..."></textarea>
<button id="send">Send</button>
<p id="msg"></p>

<script>
  Parse.initialize(
    "jI6Yyy4fA4EwHgkaLn50oUQImgxCUB4C",
    "4clh951SJa1TWPve5zlPwoUQ82Go0BPbMaMxBvwh"
  );
  Parse.serverURL = "https://parseapi.back4app.com/";

  if(!Parse.User.current()){
    location.href="index.html";
  }

  send.onclick = async ()=>{
    const Support = Parse.Object.extend("Support");
    const s = new Support();
    s.set("message", issue.value);
    s.set("user", Parse.User.current().get("username"));
    await s.save();
    msg.innerText="We will get back to you (notification sent to chykedegreat@gmail.com)";
    issue.value="";
  };
</script>

</body>
</html>
